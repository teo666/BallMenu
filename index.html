<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ball Menu</title>
    <link rel="stylesheet" type="text/css" href="BallMenu.css">
    <script type="text/javascript" src="./lib/jsanimator/jsAnimator.js"></script>
    <script type="text/javascript" src="./conf.js"></script>
    <script type="text/javascript" src="./Ball.js"></script>
    <script type="text/javascript" src="./BallMenu.js"></script>
</head>
<body onload="init()">
<div class="w3-sidebar w3-bar-block w3-card w3-animate-left" style="display:none" id="mySidebar">
    <button class="w3-bar-item w3-button w3-large" onclick="w3_close()">Close &times;</button>
    <a href="#" class="w3-bar-item w3-button">Link 1</a>
    <a href="#" class="w3-bar-item w3-button">Link 2</a>
    <a href="#" class="w3-bar-item w3-button">Link 3</a>
</div>
<canvas id="ballCanvas" width="5000" height="5000"></canvas>
<script>
    function w3_open() {
        //document.getElementById("main").style.marginLeft = "25%";
        document.getElementById("mySidebar").style.width = "25%";
        document.getElementById("mySidebar").style.display = "block";
        //document.getElementById("openNav").style.display = 'none';
    }
    function w3_close() {
        document.getElementById("main").style.marginLeft = "0%";
        document.getElementById("mySidebar").style.display = "none";
        document.getElementById("openNav").style.display = "inline-block";
    }
    let menu = null;
    function init() {
        menu = new BallMenu();
        let menu_conf = {
            canvas_id: 'ballCanvas',
            ball_size: 75,
            ball_max_size:500,
            ball_min_size: 10,
            ball_padding: 0.15,
        };
        menu.init(menu_conf);

        jsAnimator.setGlobalOnFrameRenderStart(function () {
            menu.clearAll();
            menu.incrementAccumulator();
        });
        menu.loadBall().then(function () {
            menu.drawBalls();
            jsAnimator.animationStart();
        });
    }
</script>
</body>
</html>